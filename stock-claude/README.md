# 股票交易记录移动端Web应用

一个基于纯HTML5、CSS3和JavaScript的移动端股票交易记录应用，支持PWA安装。

## 功能特点

### 📱 核心功能
- ✅ **交易记录管理**：添加、编辑、删除买入/卖出记录
- 📊 **持仓管理**：实时计算持仓盈亏、成本均价
- 📈 **盈亏分析**：总盈亏统计、个股排行、月度收益
- 🔍 **搜索筛选**：按股票代码、名称快速搜索
- 💾 **本地存储**：使用localStorage保存数据，无需服务器
- 📤 **数据导出**：支持JSON、CSV格式导出
- 📥 **数据导入**：支持从文件恢复数据

### 🎨 用户体验
- 📱 **移动端优先**：响应式设计，完美适配手机
- 🎯 **PWA支持**：可安装到主屏，离线使用
- ⚡ **快速操作**：一键添加交易，手势操作
- 🌈 **直观界面**：Material Design风格，清晰易用

### 🔧 技术特性
- **纯前端**：无框架依赖，HTML5+CSS3+JavaScript
- **模块化**：清晰的代码结构，易于维护
- **性能优化**：懒加载、缓存策略
- **数据安全**：本地存储，隐私保护

## 快速开始

### 1. 直接打开
1. 下载项目文件
2. 在浏览器中打开 `index.html`
3. 即可开始使用

### 2. 本地服务器（推荐）
```bash
# 使用Python
python -m http.server 8000

# 使用Node.js
npx serve .

# 访问 http://localhost:8000
```

### 3. PWA安装
1. 在支持的浏览器中打开应用
2. 点击浏览器提示的"安装"按钮
3. 或手动添加到主屏

## 文件结构

```
stock-claude/
├── index.html              # 主页面
├── manifest.json          # PWA配置
├── service-worker.js      # 离线缓存
├── css/                   # 样式文件
│   ├── base.css          # 基础样式
│   ├── layout.css        # 布局样式
│   ├── components.css    # 组件样式
│   └── mobile.css        # 移动端适配
├── js/                    # JavaScript模块
│   ├── modules/          # 功能模块
│   │   ├── storage.js   # 数据存储
│   │   ├── calculator.js # 盈亏计算
│   │   ├── transaction.js # 交易管理
│   │   └── portfolio.js # 持仓管理
│   └── app.js           # 主应用逻辑
└── icons/               # 应用图标
    └── README.md       # 图标说明
```

## 使用说明

### 添加交易记录
1. 点击底部导航栏的"+"按钮
2. 填写交易信息：
   - 股票代码（如：000001）
   - 交易类型（买入/卖出）
   - 价格、数量、日期
   - 手续费（可自动计算）
   - 备注（可选）
3. 点击保存

### 查看持仓
- 首页显示当前持仓列表
- 点击股票卡片查看详情
- 实时显示盈亏金额和比率

### 数据分析
- 切换到"分析"页面
- 查看总盈亏、市值等统计数据
- 查看持仓分布和排行

### 数据管理
- 切换到"设置"页面
- 导出数据：生成JSON文件备份
- 导入数据：从文件恢复数据
- 清空数据：重置所有记录

## 数据存储

所有数据存储在浏览器的localStorage中：

- `stock_transactions`: 交易记录
- `stock_portfolio`: 持仓数据
- `stock_settings`: 用户设置
- `stock_names_cache`: 股票名称缓存

## 浏览器支持

- ✅ Chrome 60+
- ✅ Firefox 60+
- ✅ Safari 11.1+
- ✅ Edge 79+
- ✅ iOS Safari 11.3+
- ✅ Android Chrome 60+

## 开发计划

### 即将添加的功能
- 📊 图表分析（盈亏趋势图）
- 📅 日历视图
- 🔔 价格提醒
- 📈 实时行情
- 👥 多账户支持
- 🎨 深色主题

## 技术细节

### 核心算法
- **盈亏计算**：先进先出法(FIFO)
- **成本均价**：加权平均法
- **盈亏率**：(市值-成本)/成本×100%

### 性能优化
- 数据懒加载
- 计算结果缓存
- 移动端触摸优化
- 离线缓存支持

## 贡献指南

欢迎提交Issue和Pull Request！

## 许可证

MIT License - 可自由使用、修改和分发